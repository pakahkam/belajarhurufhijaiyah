<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Belajar Huruf Hijaiyah Ceria</title>
    <!-- Memuat Tailwind CSS untuk styling yang cepat dan responsif -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat ikon lucide-react (digunakan sebagai SVG inline) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Menggunakan font Inter sebagai standar */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff; /* Biru muda, melambangkan ketenangan dan ilmu */
        }
        /* Styling untuk huruf Hijaiyah agar terlihat besar dan jelas */
        .hijaiyah-text {
            font-size: 8rem; /* Sangat besar */
            line-height: 1;
            font-weight: 700;
            color: #4c1d95; /* Ungu gelap, melambangkan kebijaksanaan */
        }
        /* Custom scrollbar untuk nuansa ceria */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #fef9c3; /* Kuning cerah */ }
        ::-webkit-scrollbar-thumb { background: #fcd34d; /* Kuning yang lebih gelap */ border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #fbbf24; }
        /* Animasi ceria untuk tombol */
        .btn-bounce {
            transition: transform 0.1s;
        }
        .btn-bounce:active {
            transform: scale(0.95);
        }
        /* Efek latar belakang untuk bagian-bagian utama */
        .bg-gradient-joy {
            background-image: linear-gradient(to right top, #a78bfa, #818cf8, #60a5fa, #38bdf8, #06b6d4); /* Gradient biru-ungu-cyan */
        }
    </style>
</head>
<body class="min-h-screen antialiased">

<div id="app" class="max-w-4xl mx-auto p-4 md:p-8">
    
    <!-- Header Ceria -->
    <header class="text-center mb-8 p-6 rounded-2xl bg-gradient-joy shadow-xl">
        <h1 class="text-4xl font-extrabold text-white tracking-tight md:text-5xl">
            Aplikasi Huruf Hijaiyah <span class="text-yellow-200">PAI!</span>
        </h1>
        <p class="text-lg mt-2 text-yellow-50 font-medium">
            Ayo kita kenali huruf-huruf Al-Qur'an dengan gembira dan penuh warna!
        </p>
    </header>

    <!-- Navigasi Tabs -->
    <nav class="flex justify-around bg-white p-2 rounded-xl shadow-lg mb-6">
        <button id="tab-intro" onclick="switchTab('intro')" class="tab-button w-1/3 py-3 text-lg font-semibold rounded-xl transition-all duration-300 transform bg-yellow-400 text-purple-800 shadow-md hover:scale-[1.03] hover:bg-yellow-500">
            Pengenalan Huruf
        </button>
        <button id="tab-steps" onclick="switchTab('steps')" class="tab-button w-1/3 py-3 text-lg font-semibold rounded-xl transition-all duration-300 transform text-gray-700 hover:bg-green-100 hover:scale-[1.03]">
            Langkah-Langkah
        </button>
        <button id="tab-quiz" onclick="switchTab('quiz')" class="tab-button w-1/3 py-3 text-lg font-semibold rounded-xl transition-all duration-300 transform text-gray-700 hover:bg-red-100 hover:scale-[1.03]">
            Kuis Seru (15 Soal)
        </button>
    </nav>

    <!-- Konten Tab -->
    <main class="bg-white p-6 md:p-8 rounded-2xl shadow-2xl min-h-[500px]">

        <!-- 1. Pengenalan Huruf (Intro Tab) -->
        <div id="intro-content" class="tab-content">
            <h2 class="text-3xl font-bold text-purple-700 mb-6 border-b-2 pb-2 border-purple-200">
                Papan Huruf Ajaib!
            </h2>
            
            <!-- Area Tampilan Huruf -->
            <div id="hijaiyah-display" class="text-center p-8 mb-6 rounded-xl shadow-inner border-4 border-yellow-300 bg-pink-50">
                <p id="letter-arabic" class="hijaiyah-text">Ø£</p>
                <p id="letter-name" class="text-4xl font-extrabold text-green-600 mt-2">Alif</p>
                <div class="mt-4 p-3 bg-blue-100 text-blue-700 font-medium rounded-full inline-block shadow-inner">
                    <span class="font-bold">Jenis Huruf:</span> <span id="letter-type">Tenggorokan (Halqiyah)</span>
                </div>
            </div>

            <!-- Kontrol Navigasi -->
            <div class="flex justify-between items-center mt-6">
                <button onclick="navigateLetter(-1)" class="btn-bounce bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full shadow-lg flex items-center">
                    <span class="h-6 w-6 mr-2">
                        <script>document.write(lucide.createIcons()['arrow-left'].toSvg({ class: 'h-6 w-6' }));</script>
                    </span>
                    Sebelumnya
                </button>
                <div id="letter-index-status" class="text-xl font-bold text-gray-600">
                    1 / 29
                </div>
                <button onclick="navigateLetter(1)" class="btn-bounce bg-yellow-500 hover:bg-yellow-600 text-purple-800 font-bold py-3 px-6 rounded-full shadow-lg flex items-center">
                    Selanjutnya
                    <span class="h-6 w-6 ml-2">
                        <script>document.write(lucide.createIcons()['arrow-right'].toSvg({ class: 'h-6 w-6' }));</script>
                    </span>
                </button>
            </div>
        </div>

        <!-- 2. Langkah-Langkah (Steps Tab) -->
        <div id="steps-content" class="tab-content hidden">
            <h2 class="text-3xl font-bold text-green-700 mb-6 border-b-2 pb-2 border-green-200">
                ðŸš€ 5 Langkah Jitu Mahir Hijaiyah
            </h2>
            <div class="space-y-6">
                <!-- Langkah 1: Merah (Perhatian/Fokus) -->
                <div class="flex p-4 rounded-xl shadow-md bg-red-100 border-l-8 border-red-500">
                    <span class="text-red-600 text-3xl font-extrabold mr-4">1</span>
                    <div>
                        <h3 class="font-bold text-red-700 text-xl">Lihat dan Ingat Bentuknya</h3>
                        <p class="text-gray-600">Perhatikan baik-baik bentuk hurufnya. Apakah ada titiknya? Berapa banyak? Merah melambangkan fokus yang kuat!</p>
                    </div>
                </div>

                <!-- Langkah 2: Biru (Ketenangan/Pengulangan) -->
                <div class="flex p-4 rounded-xl shadow-md bg-blue-100 border-l-8 border-blue-500">
                    <span class="text-blue-600 text-3xl font-extrabold mr-4">2</span>
                    <div>
                        <h3 class="font-bold text-blue-700 text-xl">Ucapkan Namanya</h3>
                        <p class="text-gray-600">Sebutkan nama hurufnya dengan jelas (Alif, Ba', Ta'). Ulangi sampai hafal. Biru melambangkan pengulangan yang tenang.</p>
                    </div>
                </div>

                <!-- Langkah 3: Kuning (Kegembiraan/Asal Suara) -->
                <div class="flex p-4 rounded-xl shadow-md bg-yellow-100 border-l-8 border-yellow-500">
                    <span class="text-yellow-600 text-3xl font-extrabold mr-4">3</span>
                    <div>
                        <h3 class="font-bold text-yellow-700 text-xl">Kenali Jenisnya (Makhraj)</h3>
                        <p class="text-gray-600">Dari mana suara huruf itu keluar? Tenggorokan, lidah, atau bibir? Kuning melambangkan energi untuk mencoba!</p>
                    </div>
                </div>
                
                <!-- Langkah 4: Hijau (Kesempurnaan/Latihan) -->
                <div class="flex p-4 rounded-xl shadow-md bg-green-100 border-l-8 border-green-500">
                    <span class="text-green-600 text-3xl font-extrabold mr-4">4</span>
                    <div>
                        <h3 class="font-bold text-green-700 text-xl">Tulis dan Tirukan</h3>
                        <p class="text-gray-600">Coba tulis huruf itu di udara atau di buku. Tiru bunyinya sesuai yang diajarkan guru. Hijau melambangkan pertumbuhan mahir.</p>
                    </div>
                </div>

                <!-- Langkah 5: Ungu (Pencapaian/Ulangi) -->
                <div class="flex p-4 rounded-xl shadow-md bg-purple-100 border-l-8 border-purple-500">
                    <span class="text-purple-600 text-3xl font-extrabold mr-4">5</span>
                    <div>
                        <h3 class="font-bold text-purple-700 text-xl">Ayo Uji Diri!</h3>
                        <p class="text-gray-600">Coba main KUIS! Ungu melambangkan pencapaian dan kebijaksanaan baru.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3. Kuis (Quiz Tab) -->
        <div id="quiz-content" class="tab-content hidden">
            <h2 class="text-3xl font-bold text-red-700 mb-6 border-b-2 pb-2 border-red-200">
                ðŸŽ¯ Kuis Cerdas Hijaiyah! (15 Soal)
            </h2>
            
            <!-- Tampilan Kuis Utama -->
            <div id="quiz-main">
                <p id="quiz-question-number" class="text-xl font-bold text-gray-500 mb-4">Soal ke 1 / 15</p>
                
                <!-- Kotak Soal -->
                <div class="p-6 md:p-8 bg-indigo-50 rounded-xl border-4 border-indigo-300 shadow-inner mb-6">
                    <p id="quiz-question-text" class="text-2xl md:text-3xl font-semibold text-indigo-800 mb-4">
                        Huruf manakah yang bernama <span class="text-yellow-600 font-extrabold">Ta'</span>?
                    </p>
                    <p id="quiz-letter-display" class="text-9xl text-center text-purple-800 font-bold hidden">
                        Ø¨
                    </p>
                </div>
                
                <!-- Pilihan Jawaban -->
                <div id="quiz-options" class="grid grid-cols-2 gap-4">
                    <!-- Options will be generated here -->
                </div>

                <!-- Tombol Lanjut -->
                <button id="quiz-next-btn" onclick="nextQuestion()" class="btn-bounce w-full mt-8 py-4 bg-purple-600 hover:bg-purple-700 text-white text-xl font-bold rounded-xl shadow-xl transition duration-150 hidden">
                    Soal Selanjutnya
                </button>
            </div>

            <!-- Hasil Kuis -->
            <div id="quiz-results" class="text-center hidden p-8 bg-green-50 rounded-xl border-4 border-green-400">
                <p class="text-4xl font-extrabold text-green-700 mb-4">ðŸŽ‰ Selamat! Kuis Selesai! ðŸŽ‰</p>
                <p class="text-2xl font-semibold text-gray-700 mb-6">Nilai Akhir Anda:</p>
                <div id="final-score" class="text-7xl font-black text-yellow-600 p-4 bg-white rounded-full inline-block shadow-lg border-4 border-yellow-400">
                    <!-- Score will be inserted here -->
                </div>
                <button onclick="startQuiz()" class="btn-bounce w-full mt-8 py-4 bg-red-500 hover:bg-red-600 text-white text-xl font-bold rounded-xl shadow-xl transition duration-150">
                    Ulangi Kuis
                </button>
            </div>
        </div>

    </main>
</div>

<script>
    // Data Huruf Hijaiyah (29 huruf)
    const HIJAIYAH_DATA = [
        { arabic: "Ø£", name: "Alif", type: "Tenggorokan (Halqiyah)" },
        { arabic: "Ø¨", name: "Ba'", type: "Bibir (Syafawiyah)" },
        { arabic: "Øª", name: "Ta'", type: "Lidah (Lisawiyah)" },
        { arabic: "Ø«", name: "Tsa'", type: "Lidah (Lisawiyah)" },
        { arabic: "Ø¬", name: "Jim", type: "Tengah Lidah (Syajariyah)" },
        { arabic: "Ø­", name: "Ha'", type: "Tenggorokan (Halqiyah)" },
        { arabic: "Ø®", name: "Kha'", type: "Tenggorokan (Halqiyah)" },
        { arabic: "Ø¯", name: "Dal", type: "Lidah (Nith'iyah)" },
        { arabic: "Ø°", name: "Dzal", type: "Lidah (Lisawiyah)" },
        { arabic: "Ø±", name: "Ra'", type: "Ujung Lidah (Dzaulqiyah)" },
        { arabic: "Ø²", name: "Zay", type: "Lidah (Asaliyah)" },
        { arabic: "Ø³", name: "Sin", type: "Lidah (Asaliyah)" },
        { arabic: "Ø´", name: "Syin", type: "Tengah Lidah (Syajariyah)" },
        { arabic: "Øµ", name: "Shad", type: "Lidah (Asaliyah)" },
        { arabic: "Ø¶", name: "Dhad", type: "Tepi Lidah (Jaufiyah)" },
        { arabic: "Ø·", name: "Tha'", type: "Lidah (Nith'iyah)" },
        { arabic: "Ø¸", name: "Dza'", type: "Lidah (Lisawiyah)" },
        { arabic: "Ø¹", name: "Ain", type: "Tenggorokan (Halqiyah)" },
        { arabic: "Øº", name: "Ghin", type: "Tenggorokan (Halqiyah)" },
        { arabic: "Ù", name: "Fa'", type: "Bibir (Syafawiyah)" },
        { arabic: "Ù‚", name: "Qaf", type: "Pangkal Lidah (Lahatiah)" },
        { arabic: "Ùƒ", name: "Kaf", type: "Pangkal Lidah (Lahatiah)" },
        { arabic: "Ù„", name: "Lam", type: "Tepi Lidah (Nath'iyah)" },
        { arabic: "Ù…", name: "Mim", type: "Bibir (Syafawiyah)" },
        { arabic: "Ù†", name: "Nun", type: "Ujung Lidah (Nath'iyah)" },
        { arabic: "Ùˆ", name: "Waw", type: "Bibir (Syafawiyah)" },
        { arabic: "Ù‡", name: "Ha", type: "Tenggorokan (Halqiyah)" },
        { arabic: "ÙŠ", name: "Ya'", type: "Tengah Lidah (Syajariyah)" },
        { arabic: "Ø¡", name: "Hamzah", type: "Tenggorokan (Halqiyah)" }
    ];
    
    // --- STATE MANAGEMENT ---
    let currentTab = 'intro';
    let currentLetterIndex = 0;
    
    let quizState = {
        questions: [],
        currentQuestionIndex: 0,
        score: 0,
        selectedAnswer: null,
        isAnswered: false,
        totalQuestions: 15
    };

    // --- UTILITY FUNCTIONS ---

    // Fungsi untuk mengacak array (Fisher-Yates)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // --- TAB LOGIC ---

    function switchTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
        document.getElementById(`${tabId}-content`).classList.remove('hidden');
        
        document.querySelectorAll('.tab-button').forEach(btn => {
            btn.classList.remove('bg-yellow-400', 'text-purple-800', 'shadow-md', 'hover:bg-green-100', 'hover:bg-red-100');
            btn.classList.add('text-gray-700');
        });

        const activeBtn = document.getElementById(`tab-${tabId}`);
        activeBtn.classList.remove('text-gray-700');
        activeBtn.classList.add('shadow-md', 'text-purple-800');
        
        // Custom color per tab
        if (tabId === 'intro') {
            activeBtn.classList.add('bg-yellow-400', 'hover:bg-yellow-500');
        } else if (tabId === 'steps') {
            activeBtn.classList.add('bg-green-300', 'hover:bg-green-400');
        } else if (tabId === 'quiz') {
            activeBtn.classList.add('bg-red-300', 'hover:bg-red-400');
            if (quizState.questions.length === 0) {
                 startQuiz();
            }
        }
        currentTab = tabId;
    }

    // --- INTRO LOGIC ---

    function updateLetterDisplay() {
        const letter = HIJAIYAH_DATA[currentLetterIndex];
        
        document.getElementById('letter-arabic').textContent = letter.arabic;
        document.getElementById('letter-name').textContent = letter.name;
        document.getElementById('letter-type').textContent = letter.type;
        document.getElementById('letter-index-status').textContent = `${currentLetterIndex + 1} / ${HIJAIYAH_DATA.length}`;
    }

    function navigateLetter(direction) {
        currentLetterIndex = (currentLetterIndex + direction + HIJAIYAH_DATA.length) % HIJAIYAH_DATA.length;
        updateLetterDisplay();
    }

    // --- QUIZ LOGIC ---

    function generateQuizQuestions() {
        const questions = [];
        const allLetters = HIJAIYAH_DATA;

        // Shuffle letters to pick random questions
        const shuffledLetters = shuffleArray([...allLetters]);

        for (let i = 0; i < quizState.totalQuestions; i++) {
            const letter = shuffledLetters[i % shuffledLetters.length];
            const type = i % 2 === 0 ? 'arabic_to_name' : 'name_to_arabic';
            let questionText;
            let correctAnswer;

            if (type === 'arabic_to_name') {
                // Tipe 1: Apa nama huruf ini? (Tampilkan Arab, tebak Nama)
                questionText = `Apa nama untuk huruf <span class="text-yellow-600 font-extrabold">${letter.arabic}</span>?`;
                correctAnswer = letter.name;
            } else {
                // Tipe 2: Manakah huruf ini? (Tampilkan Nama, tebak Arab)
                questionText = `Huruf manakah yang bernama <span class="text-yellow-600 font-extrabold">${letter.name}</span>?`;
                correctAnswer = letter.arabic;
            }

            // Generate 3 wrong options
            const wrongOptions = [];
            while (wrongOptions.length < 3) {
                const randomLetter = allLetters[Math.floor(Math.random() * allLetters.length)];
                let option = (type === 'arabic_to_name') ? randomLetter.name : randomLetter.arabic;

                if (option !== correctAnswer && !wrongOptions.includes(option)) {
                    wrongOptions.push(option);
                }
            }

            const allOptions = shuffleArray([correctAnswer, ...wrongOptions]);
            
            questions.push({
                type,
                arabic: letter.arabic, // for reference
                name: letter.name,     // for reference
                questionText,
                correctAnswer,
                options: allOptions,
                userAnswer: null
            });
        }
        return questions;
    }

    function startQuiz() {
        quizState.questions = generateQuizQuestions();
        quizState.currentQuestionIndex = 0;
        quizState.score = 0;
        quizState.selectedAnswer = null;
        quizState.isAnswered = false;

        document.getElementById('quiz-results').classList.add('hidden');
        document.getElementById('quiz-main').classList.remove('hidden');
        document.getElementById('quiz-next-btn').classList.add('hidden');

        displayQuestion();
    }

    function displayQuestion() {
        if (quizState.currentQuestionIndex >= quizState.totalQuestions) {
            showResults();
            return;
        }

        const q = quizState.questions[quizState.currentQuestionIndex];
        
        document.getElementById('quiz-question-number').textContent = `Soal ke ${quizState.currentQuestionIndex + 1} / ${quizState.totalQuestions}`;
        document.getElementById('quiz-question-text').innerHTML = q.questionText;
        document.getElementById('quiz-next-btn').classList.add('hidden');
        
        // Tampilkan huruf besar jika tipenya "name_to_arabic" (menebak huruf)
        const letterDisplay = document.getElementById('quiz-letter-display');
        if (q.type === 'arabic_to_name') {
            letterDisplay.textContent = q.arabic;
            letterDisplay.classList.remove('hidden');
            document.getElementById('quiz-question-text').classList.add('hidden');
        } else {
            // Sembunyikan jika tipenya "arabic_to_name" (menebak nama)
            letterDisplay.classList.add('hidden');
            document.getElementById('quiz-question-text').classList.remove('hidden');
        }

        const optionsContainer = document.getElementById('quiz-options');
        optionsContainer.innerHTML = '';
        
        q.options.forEach((option, index) => {
            const isArabic = q.type === 'name_to_arabic';
            
            const btn = document.createElement('button');
            btn.classList.add('quiz-option-btn', 'btn-bounce', 'p-4', 'rounded-xl', 'text-xl', 'font-bold', 'shadow-lg', 'bg-blue-100', 'hover:bg-blue-200', 'text-blue-800', 'transition', 'duration-100', 'border-4', 'border-blue-300');
            
            // Atur ukuran teks lebih besar untuk huruf Arab
            if (isArabic) {
                btn.classList.add('text-6xl', 'font-extrabold');
            } else {
                btn.classList.add('text-2xl');
            }

            btn.textContent = option;
            btn.onclick = () => selectAnswer(option, btn);
            optionsContainer.appendChild(btn);
        });

        quizState.selectedAnswer = null;
        quizState.isAnswered = false;
    }

    function selectAnswer(selectedOption, button) {
        if (quizState.isAnswered) return;

        quizState.isAnswered = true;
        quizState.selectedAnswer = selectedOption;
        
        const q = quizState.questions[quizState.currentQuestionIndex];
        const isCorrect = selectedOption === q.correctAnswer;
        
        q.userAnswer = selectedOption; // Simpan jawaban
        
        if (isCorrect) {
            quizState.score++;
        }

        // Feedback visual
        document.querySelectorAll('.quiz-option-btn').forEach(btn => {
            btn.disabled = true;
            btn.classList.remove('bg-blue-100', 'hover:bg-blue-200', 'text-blue-800', 'border-blue-300');
            
            if (btn === button) {
                // Jawaban yang dipilih
                if (isCorrect) {
                    btn.classList.add('bg-green-400', 'text-white', 'border-green-600'); // Hijau: Benar (Pertumbuhan)
                } else {
                    btn.classList.add('bg-red-400', 'text-white', 'border-red-600'); // Merah: Salah (Perhatian)
                }
            } else if (btn.textContent === q.correctAnswer) {
                 // Jawaban yang benar
                btn.classList.add('bg-green-200', 'text-green-800', 'border-green-400');
            } else {
                // Jawaban yang salah dan tidak dipilih
                btn.classList.add('bg-gray-100', 'text-gray-400', 'border-gray-200');
            }
        });

        document.getElementById('quiz-next-btn').classList.remove('hidden');
    }

    function nextQuestion() {
        quizState.currentQuestionIndex++;
        displayQuestion();
    }

    function showResults() {
        document.getElementById('quiz-main').classList.add('hidden');
        document.getElementById('quiz-results').classList.remove('hidden');
        
        const scorePercentage = Math.round((quizState.score / quizState.totalQuestions) * 100);
        document.getElementById('final-score').textContent = `${quizState.score}/${quizState.totalQuestions} (${scorePercentage}%)`;
    }


    // --- INITIALIZATION ---
    document.addEventListener('DOMContentLoaded', () => {
        updateLetterDisplay();
        switchTab('intro'); // Ensure the intro tab is active and styled correctly on load
        // Initial setup for the quiz questions, but keep quiz tab hidden
        startQuiz(); 
    });

</script>

</body>
</html>
